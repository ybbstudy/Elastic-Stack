# 核心知识篇

## 		简介

## 		环境安装

1. #### 				安装Elasticsearch

2. #### 				安装Kibana

3. #### 				安装Head插件

4. #### 				集群健康值检查

5. #### 				本章小结

## 		核心概念

1. ### 				倒排索引

   - #### 				倒排索引核心原理

   - #### 				FOR压缩算法

   - #### 				RBM压缩算法

   - #### 				Trie（字典树/前缀树）原理

   - #### 				FST构建原理

   - #### 				FST在Lucene中的实现原理

   - #### 				.tip和.tim文件内部结构

   - #### 				FST在Lucene中的构建和读取过程

2. #### 				集群节点和分片

3. #### 				索引和文档的概念

## 	索引的CRUD

## 		映射：mapping

1. #### 				dynamic mapping

2. #### 				数据类型

3. #### 				映射参数

## 		搜索

1. #### 本章内容介绍

2. #### 上下文、评分和元数据

3. #### 字符串查询：query string

4. #### 全文检索：fulltext search

5. #### 精准查询：term

6. #### 过滤器：filter

7. #### 复合查询：bool query

## 		分词器

1. #### 文档规范化：normalization

2. #### 字符过滤器：character filter

3. #### 令牌过滤器：token filter

4. #### 分词器：tokenizer

5. #### 常用分词器

6. #### 自定义分词器：custom analyzer

7. #### 中文分词器：ik分词

8. #### 热更新

   - #### 基于远程词库的实现

   - #### 基于ik访问数据库的实现

## 		聚合查询

1. #### 聚合分类

   - ##### 分桶聚合

   - ##### 指标聚合

   - ##### 管道聚合

2. #### 三种聚合的简单案例

3. #### 嵌套聚合（多层聚合）

4. #### 基于查询结果的聚合、基于聚合结果的查询

5. #### 聚合排序

6. #### 常用的聚合函数

## 		脚本查询

1. #### 本章内容介绍

2. #### 基本概念

3. #### CRUD

4. #### 参数化查询

5. #### 函数式编程

6. #### 本章小结及知识点补充

## 		索引的批量操作

1. #### 基于_mget的批量查询

2. #### 文档的四种操作类型

   - ##### 创建：Create

   - ##### 删除：Delete

   - ##### 索引：Index

   - ##### 更新：Update

3. #### 基于_bulk的增删改

## 		模糊查询

1. #### 关于课程ES的版本升级

2. #### 本章内容介绍

3. #### 前缀搜索：prefix

4. #### 通配符搜索：wildcard

5. #### 正则表达式：regexp

6. #### 模糊查询：fuzzy

7. #### 短语前缀搜索：match_phrase_prefix

8. #### 前缀后缀搜索的优化方案：ngram和edge ngram

## 		搜索推荐

1. #### Term Suggester

2. #### Phrase Suggester

3. #### Completion Suggester

4. #### Context Suggester

## 		数据建模

1. #### 嵌套类型：Nested

2. #### 父子级关系：Join

3. #### Elasticsearch数据建模

## 		客户端

1. ### 			Java REST Client

   - ##### 课程介绍

   - ##### Java API和Transport Client

   - ##### 基于Java API的CRUD

   - ##### 基于Java API的多条件查找

   - ##### 基于Java API的聚合查询

   - ##### Java REST Client

   - ##### 嗅探器：Sniffer

   - ##### 总结

2. #### Python API

### Spring Data ELasticsearch



### #########################################################################

# 高手进阶篇

## 课程简介 

## ES分布式原理

1. #### 单机和分布式

   - ##### 单机服务的局限性

   - ##### 详述何为分布式系统

2. #### 集群环境选择

3. #### ES的分布式重要概念

   - ##### 开发模式

   - ##### 生产模式

   - ##### 引导检查

4. #### ES常见模块介绍

   - ##### 集群

   - ##### 分配检查

   - ##### 引导检查

   - ##### 预处理

   - ##### 监控

   - ##### 发现

   - ##### 网关

   - ##### 索引

   - ##### HTTP

   - ##### Transport

5. #### 节点

   - ##### 角色

6. #### 分片

   ##### 7.1 分片创建策略

   ###### 	7.1.1 分片分配策略

   ​	7.1.2 分片数量策略

   ​	7.1.3 分片大小策略

   ##### 7.2 重要的配置

   ##### 7.3 索引分片分配

   ##### 7.4 分片分配感知

   ##### 7.5 强制感知策略

7. #### 高可用系统架构设计

   - 高可用性原理
   - ES的容错机制
   - 高可用集群设计
     - 小规模集群设计方案
       - 单节点集群设计
       - 两节点集群设计
       - 三节点集群设计
       - 多节点集群设计
     - 大规模集群设计方案
       - 单区集群设计
       - 双区集群设计
       - 多区集群设计
       - 多集群设计

8. #### Master选举流程

   - 设计思路
   - ES的选举算法
   - 有效选票和法定票数
   - 节点失效监测
   - 脑裂问题

## 	深度分页问题以及解决方案

1. #### 		深度分页是怎么回事儿

2. #### 		滚动查询

3. #### 		Search after

## 	深入检索和聚合

1. ##### 多字段检索：multi_field

2. ##### 地理位置检索

3. ##### Top hits

4. ##### cardinality去重

5. ##### 多重过滤器

6. ##### 三角选择原则

7. ##### 绝对中位差

8. ##### 深度优先和广度优先

9. ##### 邻接矩阵

## 	相关评分算法剖析

1. #### 		TF-IDF算法

2. #### 		BM25算法

3. #### Shard Local IDF

4. #### 		Relevance Score原理

5. #### 		精准控制相关度评分

## 	ES的并发问题

1. #### 乐观锁

## 	ES读写原理及调优

1. #### ES数据写入流程

2. #### ES数据写入原理

3. #### ES的检索过程

4. #### 写入调优

5. #### 查询调优

## 数据同步的解决方案

1. ### 基于canal + binlog的数据同步方

2. ### 基于logstash input plugin的全量同步方案

3. ### 基于dump的同步方案

4. #### DataX

## 索引的生命周期：ILM

1. #### 滚动索引

2. #### 索引模板

3. #### 冷热集群的架构设计

## 数据流：Data Stream

​	

# 运维调优篇

## 	索引管理

### 		索引别名

### 		打开和关闭索引

### 		索引的增删改

### 		索引的配置选项

### 		索引压缩

### 		索引刷新

### 		索引模板

### 		滚动索引

### 		克隆索引

### 		断路器

### 		索引的生命周期

### 		索引调优

## 	集群管理

### 		生产模式和开发模式		

### 		Linux集群搭建

### 	冷热分离架构设计

### 分片分配感知

### 		集群调优

## 	集群安全

### 		身份认证和用户授权

### 		加密通讯

### 		跨集群搜索

### 		监控和问题诊断

### 		快照和还原

### 		基于HDFS的备份恢复

# 项目实战篇

## 	点餐系统/疫情地图

## 	日志系统

### 		Elasticsearch

### 		Logstash

### 		Kibana

### 		Beats

## 	搜索引擎-咚宝商城（再造淘宝）

### 		需求分析

### 		架构设计

### 		